@custom-variant dark (&:is(.dark *));

:root {
  /* Minimal White Design System with Blue Accent */
  --font-size: 16px;
  
  /* Primary Colors - Modern Blue */
  --primary: #2196F3;
  --on-primary: #FFFFFF;
  --primary-hover: #1976D2;
  --primary-light: #BBDEFB;
  --primary-container: #E3F2FD;
  --on-primary-container: #0D47A1;
  
  /* Secondary Colors */
  --secondary: #757575;
  --on-secondary: #FFFFFF;
  --secondary-container: #F5F5F5;
  --on-secondary-container: #212121;
  
  /* Tertiary Colors */
  --tertiary: #FF5722;
  --on-tertiary: #FFFFFF;
  --tertiary-container: #FFEBEE;
  --on-tertiary-container: #BF360C;
  
  /* Surface Colors - White Based */
  --surface: #FFFFFF;
  --on-surface: #000000;
  --surface-variant: #FAFAFA;
  --on-surface-variant: #666666;
  --surface-container-lowest: #FFFFFF;
  --surface-container-low: #FFFFFF;
  --surface-container: #FFFFFF;
  --surface-container-high: #FAFAFA;
  --surface-container-highest: #F5F5F5;
  
  /* Background */
  --background: #FFFFFF;
  --on-background: #000000;
  
  /* Error Colors */
  --error: #F44336;
  --on-error: #FFFFFF;
  --error-container: #FFEBEE;
  --on-error-container: #C62828;
  
  /* Outline - Minimal Gray */
  --outline: #E0E0E0;
  --outline-variant: #F5F5F5;
  
  /* Text Colors - Simplified */
  --text-primary: #000000;
  --text-secondary: #666666;
  --text-tertiary: #999999;
  
  /* Border Colors */
  --border: #E8E8E8;
  --border-light: #F5F5F5;
  
  /* Legacy mappings for existing components */
  --foreground: var(--on-surface);
  --card: var(--surface-container);
  --card-foreground: var(--on-surface);
  --popover: var(--surface-container);
  --popover-foreground: var(--on-surface);
  --primary-foreground: var(--on-primary);
  --secondary-foreground: var(--on-secondary);
  --muted: var(--surface-variant);
  --muted-foreground: var(--on-surface-variant);
  --accent: var(--secondary-container);
  --accent-foreground: var(--on-secondary-container);
  --destructive: var(--error);
  --destructive-foreground: var(--on-error);
  --input: var(--surface-container-highest);
  --input-background: var(--surface-container-highest);
  --switch-background: var(--outline);
  --ring: var(--primary);
  
  /* Material 3 Typography Scale */
  --text-display-large: 57px;
  --text-display-medium: 45px;
  --text-display-small: 36px;
  --text-headline-large: 32px;
  --text-headline-medium: 28px;
  --text-headline-small: 24px;
  --text-title-large: 22px;
  --text-title-medium: 16px;
  --text-title-small: 14px;
  --text-label-large: 14px;
  --text-label-medium: 12px;
  --text-label-small: 11px;
  --text-body-large: 16px;
  --text-body-medium: 14px;
  --text-body-small: 12px;
  
  /* Font Weights */
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  
  /* Material 3 Shape Scale */
  --radius-xs: 4px;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;
  --radius-full: 1000px;
  --radius: var(--radius-md);
  
  /* Material 3 Elevation */
  --elevation-1: 0 1px 3px rgba(0, 0, 0, 0.08);
  --elevation-2: 0 2px 8px rgba(0, 0, 0, 0.10);
  --elevation-3: 0 4px 12px rgba(0, 0, 0, 0.12);
  --elevation-4: 0 6px 16px rgba(0, 0, 0, 0.14);
  --elevation-5: 0 8px 24px rgba(0, 0, 0, 0.16);
  
  /* Chart Colors */
  --chart-1: var(--primary);
  --chart-2: var(--secondary);
  --chart-3: var(--tertiary);
  --chart-4: #FF6F00;
  --chart-5: #00BCD4;
  
  /* State Layer Opacity */
  --state-hover: 0.08;
  --state-focus: 0.12;
  --state-pressed: 0.12;
  --state-dragged: 0.16;
  
  /* Sidebar (maintaining compatibility) */
  --sidebar: var(--surface-container-low);
  --sidebar-foreground: var(--on-surface);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--on-primary);
  --sidebar-accent: var(--secondary-container);
  --sidebar-accent-foreground: var(--on-secondary-container);
  --sidebar-border: var(--outline-variant);
  --sidebar-ring: var(--primary);
}

.dark {
  /* Material 3 Design System - Dark Theme */
  
  /* Primary Colors */
  --primary: #D0BCFF;
  --on-primary: #381E72;
  --primary-container: #4F378B;
  --on-primary-container: #EADDFF;
  
  /* Secondary Colors */
  --secondary: #CCC2DC;
  --on-secondary: #332D41;
  --secondary-container: #4A4458;
  --on-secondary-container: #E8DEF8;
  
  /* Tertiary Colors */
  --tertiary: #EFB8C8;
  --on-tertiary: #492532;
  --tertiary-container: #633B48;
  --on-tertiary-container: #FFD8E4;
  
  /* Surface Colors */
  --surface: #10121A;
  --on-surface: #E6E0E9;
  --surface-variant: #49454F;
  --on-surface-variant: #CAC4D0;
  --surface-container-lowest: #0B0E14;
  --surface-container-low: #191C20;
  --surface-container: #1D2024;
  --surface-container-high: #27282E;
  --surface-container-highest: #323238;
  
  /* Background */
  --background: #10121A;
  --on-background: #E6E0E9;
  
  /* Error Colors */
  --error: #FFB4AB;
  --on-error: #690005;
  --error-container: #93000A;
  --on-error-container: #FFDAD6;
  
  /* Outline */
  --outline: #938F99;
  --outline-variant: #49454F;
  
  /* Legacy mappings for existing components */
  --foreground: var(--on-surface);
  --card: var(--surface-container);
  --card-foreground: var(--on-surface);
  --popover: var(--surface-container);
  --popover-foreground: var(--on-surface);
  --primary-foreground: var(--on-primary);
  --secondary-foreground: var(--on-secondary);
  --muted: var(--surface-variant);
  --muted-foreground: var(--on-surface-variant);
  --accent: var(--secondary-container);
  --accent-foreground: var(--on-secondary-container);
  --destructive: var(--error);
  --destructive-foreground: var(--on-error);
  --border: var(--outline-variant);
  --input: var(--surface-container-highest);
  --input-background: var(--surface-container-highest);
  --switch-background: var(--outline);
  --ring: var(--primary);
  
  /* Chart Colors */
  --chart-1: var(--primary);
  --chart-2: var(--secondary);
  --chart-3: var(--tertiary);
  --chart-4: #FFB74D;
  --chart-5: #4DD0E1;
  
  /* Sidebar */
  --sidebar: var(--surface-container-low);
  --sidebar-foreground: var(--on-surface);
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--on-primary-container);
  --sidebar-accent: var(--secondary-container);
  --sidebar-accent-foreground: var(--on-secondary-container);
  --sidebar-border: var(--outline-variant);
  --sidebar-ring: var(--primary);
}

@theme inline {
  /* Material 3 Color Tokens */
  --color-primary: var(--primary);
  --color-on-primary: var(--on-primary);
  --color-primary-container: var(--primary-container);
  --color-on-primary-container: var(--on-primary-container);
  --color-secondary: var(--secondary);
  --color-on-secondary: var(--on-secondary);
  --color-secondary-container: var(--secondary-container);
  --color-on-secondary-container: var(--on-secondary-container);
  --color-tertiary: var(--tertiary);
  --color-on-tertiary: var(--on-tertiary);
  --color-tertiary-container: var(--tertiary-container);
  --color-on-tertiary-container: var(--on-tertiary-container);
  --color-surface: var(--surface);
  --color-on-surface: var(--on-surface);
  --color-surface-variant: var(--surface-variant);
  --color-on-surface-variant: var(--on-surface-variant);
  --color-surface-container-lowest: var(--surface-container-lowest);
  --color-surface-container-low: var(--surface-container-low);
  --color-surface-container: var(--surface-container);
  --color-surface-container-high: var(--surface-container-high);
  --color-surface-container-highest: var(--surface-container-highest);
  --color-background: var(--background);
  --color-on-background: var(--on-background);
  --color-error: var(--error);
  --color-on-error: var(--on-error);
  --color-error-container: var(--error-container);
  --color-on-error-container: var(--on-error-container);
  --color-outline: var(--outline);
  --color-outline-variant: var(--outline-variant);
  
  /* Legacy color mappings */
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-input-background: var(--input-background);
  --color-switch-background: var(--switch-background);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  
  /* Material 3 Shape Scale */
  --radius-xs: var(--radius-xs);
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
  --radius-full: var(--radius-full);
  
  /* Sidebar compatibility */
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/**
 * Material 3 Typography Scale
 * Applied to elements without Tailwind text classes
 */
@layer base {
  :where(:not(:has([class*=" text-"]), :not(:has([class^="text-"])))) {
    h1 {
      font-size: var(--text-headline-large);
      font-weight: var(--font-weight-regular);
      line-height: 1.25;
      letter-spacing: 0;
    }

    h2 {
      font-size: var(--text-headline-medium);
      font-weight: var(--font-weight-regular);
      line-height: 1.286;
      letter-spacing: 0;
    }

    h3 {
      font-size: var(--text-headline-small);
      font-weight: var(--font-weight-regular);
      line-height: 1.33;
      letter-spacing: 0;
    }

    h4 {
      font-size: var(--text-title-large);
      font-weight: var(--font-weight-regular);
      line-height: 1.27;
      letter-spacing: 0;
    }

    h5 {
      font-size: var(--text-title-medium);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
      letter-spacing: 0.15px;
    }

    h6 {
      font-size: var(--text-title-small);
      font-weight: var(--font-weight-medium);
      line-height: 1.43;
      letter-spacing: 0.1px;
    }

    p {
      font-size: var(--text-body-large);
      font-weight: var(--font-weight-regular);
      line-height: 1.5;
      letter-spacing: 0.5px;
    }

    label {
      font-size: var(--text-label-large);
      font-weight: var(--font-weight-medium);
      line-height: 1.43;
      letter-spacing: 0.1px;
    }

    button {
      font-size: var(--text-label-large);
      font-weight: var(--font-weight-medium);
      line-height: 1.43;
      letter-spacing: 0.1px;
    }

    input {
      font-size: var(--text-body-large);
      font-weight: var(--font-weight-regular);
      line-height: 1.5;
      letter-spacing: 0.5px;
    }

    small {
      font-size: var(--text-body-small);
      font-weight: var(--font-weight-regular);
      line-height: 1.33;
      letter-spacing: 0.4px;
    }
  }
}

html {
  font-size: var(--font-size);
  /* Material 3 기본 폰트 설정 */
  font-family: 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
}

/* 라이트 모드를 기본으로 설정 */
html {
  color-scheme: light;
}

/* Material 3 Utility Classes */

/* Elevation Shadows */
.elevation-1 {
  box-shadow: var(--elevation-1);
}

.elevation-2 {
  box-shadow: var(--elevation-2);
}

.elevation-3 {
  box-shadow: var(--elevation-3);
}

.elevation-4 {
  box-shadow: var(--elevation-4);
}

.elevation-5 {
  box-shadow: var(--elevation-5);
}

/* State Layers */
.state-layer-hover {
  position: relative;
}

.state-layer-hover::before {
  content: '';
  position: absolute;
  inset: 0;
  background: currentColor;
  opacity: 0;
  transition: opacity 0.2s ease;
  border-radius: inherit;
  pointer-events: none;
}

.state-layer-hover:hover::before {
  opacity: var(--state-hover);
}

.state-layer-focus::before {
  opacity: var(--state-focus);
}

.state-layer-pressed::before {
  opacity: var(--state-pressed);
}

/* Material 3 Surface Colors */
.surface-container-lowest {
  background-color: var(--surface-container-lowest);
  color: var(--on-surface);
}

.surface-container-low {
  background-color: var(--surface-container-low);
  color: var(--on-surface);
}

.surface-container {
  background-color: var(--surface-container);
  color: var(--on-surface);
}

.surface-container-high {
  background-color: var(--surface-container-high);
  color: var(--on-surface);
}

.surface-container-highest {
  background-color: var(--surface-container-highest);
  color: var(--on-surface);
}

/* Material 3 Typography Utilities */
.text-display-large {
  font-size: var(--text-display-large);
  font-weight: var(--font-weight-regular);
  line-height: 1.12;
}

.text-display-medium {
  font-size: var(--text-display-medium);
  font-weight: var(--font-weight-regular);
  line-height: 1.16;
}

.text-display-small {
  font-size: var(--text-display-small);
  font-weight: var(--font-weight-regular);
  line-height: 1.22;
}

.text-headline-large {
  font-size: var(--text-headline-large);
  font-weight: var(--font-weight-regular);
  line-height: 1.25;
}

.text-headline-medium {
  font-size: var(--text-headline-medium);
  font-weight: var(--font-weight-regular);
  line-height: 1.286;
}

.text-headline-small {
  font-size: var(--text-headline-small);
  font-weight: var(--font-weight-regular);
  line-height: 1.33;
}

.text-title-large {
  font-size: var(--text-title-large);
  font-weight: var(--font-weight-regular);
  line-height: 1.27;
}

.text-title-medium {
  font-size: var(--text-title-medium);
  font-weight: var(--font-weight-medium);
  line-height: 1.5;
  letter-spacing: 0.15px;
}

.text-title-small {
  font-size: var(--text-title-small);
  font-weight: var(--font-weight-medium);
  line-height: 1.43;
  letter-spacing: 0.1px;
}

.text-label-large {
  font-size: var(--text-label-large);
  font-weight: var(--font-weight-medium);
  line-height: 1.43;
  letter-spacing: 0.1px;
}

.text-label-medium {
  font-size: var(--text-label-medium);
  font-weight: var(--font-weight-medium);
  line-height: 1.33;
  letter-spacing: 0.5px;
}

.text-label-small {
  font-size: var(--text-label-small);
  font-weight: var(--font-weight-medium);
  line-height: 1.45;
  letter-spacing: 0.5px;
}

.text-body-large {
  font-size: var(--text-body-large);
  font-weight: var(--font-weight-regular);
  line-height: 1.5;
  letter-spacing: 0.5px;
}

.text-body-medium {
  font-size: var(--text-body-medium);
  font-weight: var(--font-weight-regular);
  line-height: 1.43;
  letter-spacing: 0.25px;
}

.text-body-small {
  font-size: var(--text-body-small);
  font-weight: var(--font-weight-regular);
  line-height: 1.33;
  letter-spacing: 0.4px;
}

/* 스크롤바 숨기기 */
.scrollbar-hide {
  /* Firefox */
  scrollbar-width: none;
  /* Safari and Chrome */
  -ms-overflow-style: none;
  &::-webkit-scrollbar {
    display: none;
  }
}

/* line-clamp 유틸리티 */
.line-clamp-1 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.line-clamp-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
}

.line-clamp-3 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
}

/* Enhanced Components Styles */

/* Glass effect */
.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glass-card {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Gradient effects */
.gradient-primary {
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
}

.gradient-surface {
  background: linear-gradient(135deg, var(--surface-container-low) 0%, var(--surface-container-high) 100%);
}

.gradient-overlay {
  position: relative;
}

.gradient-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(45deg, transparent 0%, rgba(103, 80, 164, 0.05) 100%);
  border-radius: inherit;
  pointer-events: none;
}

/* Button effects */
.btn-floating {
  box-shadow: var(--elevation-2);
  transition: box-shadow 0.3s ease, transform 0.2s ease;
}

.btn-floating:hover {
  box-shadow: var(--elevation-4);
  transform: translateY(-2px);
}

/* Card effects */
.card-lift {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card-lift:hover {
  transform: translateY(-4px);
  box-shadow: var(--elevation-3);
}

/* Focus enhancement */
.focus-enhanced {
  transition: all 0.2s ease;
}

.focus-enhanced:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Ripple effect */
.ripple {
  position: relative;
  overflow: hidden;
}

.ripple::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.3s, height 0.3s;
}

.ripple:active::after {
  width: 300px;
  height: 300px;
}

/* Music themed styles */
.music-pattern {
  position: relative;
}

.music-pattern::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 60px;
  height: 60px;
  background: radial-gradient(circle, var(--primary) 1px, transparent 1px);
  background-size: 8px 8px;
  opacity: 0.1;
  border-radius: 0 12px 0 12px;
}

.music-bars {
  display: flex;
  align-items: end;
  gap: 2px;
  height: 20px;
}

.music-bar {
  width: 3px;
  background: var(--primary);
  border-radius: 2px;
  animation: musicBounce 1.5s ease-in-out infinite;
}

.music-bar:nth-child(1) { height: 40%; animation-delay: 0s; }
.music-bar:nth-child(2) { height: 80%; animation-delay: 0.2s; }
.music-bar:nth-child(3) { height: 60%; animation-delay: 0.4s; }
.music-bar:nth-child(4) { height: 90%; animation-delay: 0.6s; }
.music-bar:nth-child(5) { height: 50%; animation-delay: 0.8s; }

@keyframes musicBounce {
  0%, 100% { transform: scaleY(1); }
  50% { transform: scaleY(0.3); }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}